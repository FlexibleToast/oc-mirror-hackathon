echo "# Pull the content mirroring tool oc-mirror"
curl -L -O https://mirror.openshift.com/pub/openshift-v4/x86_64/clients/ocp/stable/oc-mirror.tar.gz 

echo "# Pull the openshift client"
curl -L -O https://mirror.openshift.com/pub/openshift-v4/x86_64/clients/ocp/stable/openshift-client-linux.tar.gz 

echo "# Pull the 4.19.2 openshift install client"
curl -L -O https://mirror.openshift.com/pub/openshift-v4/x86_64/clients/ocp/4.19.2/openshift-install-linux-4.19.2.tar.gz

echo "# Pull the stable openshift install client"
# curl -L -O https://mirror.openshift.com/pub/openshift-v4/x86_64/clients/ocp/stable/openshift-install-linux.tar.gz 

echo "# Pull butane for generating machine configs"
curl -L -O https://mirror.openshift.com/pub/openshift-v4/clients/butane/latest/butane-amd64

echo "# Pull down the quay mirror registry"
mkdir mirror-registry
curl -L -O https://mirror.openshift.com/pub/cgw/mirror-registry/latest/mirror-registry-amd64.tar.gz

echo "# lets put the downloads in place so you can move them with your oc-mirror tar"
mkdir -p downloads 
mkdir -p mirror-registry
mv *.tar.gz downloads/
mv butane-amd64 downloads/
tar -xvf downloads/mirror-registry-amd64.tar.gz -C mirror-registry/
tar -xvf downloads/oc-mirror.tar.gz -C downloads/
tar -xvf downloads/openshift-client-linux.tar.gz -C downloads/
tar -xvf openshift-install-linux-4.19.2.tar.gz -C downloads/
sudo cp downloads/oc-mirror /usr/local/bin/oc-mirror
sudo chmod 744 /usr/local/bin/oc-mirror
sudo cp downloads/oc /usr/local/bin/oc
sudo cp downloads/openshift-install /usr/local/bin/openshift-install 
